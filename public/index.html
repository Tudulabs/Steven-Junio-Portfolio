<!DOCTYPE html>
<html lang="en">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="manifest" href="/manifest.json">

  <title>Steven Junio's Resume</title>



</head>

<body>
  <header>
    <div class="logo">Steven Junio</div>
    <div class="callToActionButton">Contact</div>
  </header>
  <div class="pageLayout" id='mainPage'>
    <h1>CDN back to having a public div</h1>


    <form id="theForm" onsubmit="uploadImage()">
      <input type="file" accept="image/*" class="fileInput">
      <br>

      <button type="button" onclick="uploadImage()">Upload</button>

      </input>
    </form>
    <br>

  </div>

  <script>

var myHeaders = new Headers();
    myHeaders.append("Authorization", "Bearer H2qKBBBrZsaKWfZmuaJlPBngaqj1hs285bThRK32");
    myHeaders.append("Cookie", "__cflb=0H28vgHxwvgAQtjUGU4vq74ZFe3sNVUZdBBHjqvtpq3; __cfruid=8dda362d2cb9c479fc381f3bebe375f263a60040-1649190981");
    
    var formdata = new FormData();
    formdata.append("file", fileInput.files[0], "[PROXY]");
    
    var requestOptions = {
      method: 'POST',
      headers: myHeaders,
      body: formdata,
      redirect: 'follow'
    };
    let theResult
    fetch("https://api.cloudflare.com/client/v4/accounts/19eab9e3016e1c72ff6165fd881e5932/images/v1", requestOptions)
      .then(response => response.text())
      .then(result => {
        theResult = result
      })
      .catch(error => console.log('error', error));
    
      console.log( `here is the result: ` + theResult)



  </script>
















  <script src="app.js">

  </script>

  <script>


    uploadImage = (img) => {
      console.log('submitted')

      var formdata = new FormData();
      formdata.append("location", "Tulare, ca");
      formdata.append("itemNumber", "267");

      var requestOptions = {
        method: 'POST',
        redirect: 'follow'

      };

      fetch("https://xwu6-duwo-frcu.n7.xano.io/api:ccLM-ATF/direct-creator-upload",
        requestOptions)

        .then(result => {
          result.text().then(text => {
            let imageUrl = text
            console.log(imageUrl.replace('"', '').replace('"', ''))
          })
          
         
         

            .catch(error => console.log('error', error));

        }
        )
        .catch(error => console.log('error', error));
    };


  </script>


  <link rel="stylesheet" href="styles/index.css" defer />
</body>